import{a as R}from"./chunk-LFENHH2W.js";import{a as L}from"./chunk-2F7P7N3H.js";import"./chunk-B4WDAWNQ.js";import{G as B,M as U,Q as V,a as G,e as q,m as Y}from"./chunk-AARDIVPE.js";import{e as j,q as z,r as D,t as A}from"./chunk-LUWYMATI.js";import{A as O,D as u,F as M,J as e,K as t,L as c,Q as C,Z as a,bb as h,db as x,eb as k,fb as w,jb as y,lb as S,ma as P,ob as E,qa as b,t as g,u as l,ua as v,ub as I,vb as F,w as _,wb as N,xb as T}from"./chunk-OOWOQ5GQ.js";import"./chunk-NG6DNF3C.js";import"./chunk-7KGURMOZ.js";import"./chunk-TXAZYJNE.js";import"./chunk-T4LVKIJM.js";import"./chunk-GQVKPUXJ.js";import"./chunk-HII7ZFLR.js";import"./chunk-7JVEMCNU.js";import"./chunk-Z65EUC5N.js";import"./chunk-4U6PRYVA.js";import"./chunk-GO752FNZ.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{f as p}from"./chunk-RW4GY4BD.js";function J(s,m){s&1&&(e(0,"div",27),a(1," El nombre es obligatorio "),t())}var an=(()=>{let m=class m{constructor(i,o,n,r,f,d,H){this.formBuilder=i,this.clienteService=o,this.loginService=n,this.navController=r,this.toastController=f,this.loadingController=d,this.router=H,this.isSubmitting=!1,this.clienteForm=this.formBuilder.group({nombre:["",[x.required]],telefono:[""],direccion:[""]})}ngOnInit(){G({personOutline:U,callOutline:Y,locationOutline:B,arrowBackOutline:q,saveOutline:V})}get f(){return this.clienteForm.controls}hasError(i,o){let n=this.f[i];return n.hasError(o)&&(n.dirty||n.touched)}volver(){this.navController.back()}guardarCliente(){return p(this,null,function*(){var i,o,n;if(Object.keys(this.f).forEach(r=>{this.f[r].markAsTouched()}),this.clienteForm.invalid){this.mostrarToast("Por favor, completa correctamente todos los campos obligatorios","danger");return}try{this.isSubmitting=!0;let r=yield this.loadingController.create({message:"Guardando cliente...",spinner:"circles"});yield r.present();let f=this.loginService.getIdUsuario();if(!f)throw new Error("No se ha encontrado el ID de usuario");let d={nombre:(i=this.clienteForm.get("nombre"))==null?void 0:i.value,telefono:(o=this.clienteForm.get("telefono"))==null?void 0:o.value,direccion:(n=this.clienteForm.get("direccion"))==null?void 0:n.value,idUsuario:f};yield this.clienteService.createCliente(d),yield r.dismiss(),this.mostrarToast("Cliente guardado correctamente","success"),this.router.navigate(["/clientes"])}catch(r){console.error("Error al guardar el cliente:",r),this.isSubmitting=!1,this.loadingController.dismiss(),this.mostrarToast("Error al guardar el cliente. Int\xE9ntalo de nuevo.","danger")}})}mostrarToast(i,o="primary"){return p(this,null,function*(){yield(yield this.toastController.create({message:i,duration:3e3,position:"bottom",color:o,buttons:[{icon:"close-circle-outline",role:"cancel"}]})).present()})}};m.\u0275fac=function(o){return new(o||m)(l(I),l(R),l(L),l(T),l(D),l(z),l(v))},m.\u0275cmp=_({type:m,selectors:[["app-cliente-alta"]],decls:45,vars:5,consts:[[1,"ion-content-nuevo-cliente"],[1,"premium-nuevo-cliente-container"],[1,"section-header"],[1,"header-back-button"],[1,"back-button",3,"click"],["name","arrow-back-outline"],[1,"header-content"],[1,"form-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],[1,"form-label"],["for","nombre"],[1,"required"],[1,"input-container"],[1,"input-icon"],["name","person-outline"],["type","text","id","nombre","formControlName","nombre","placeholder","Nombre del cliente",1,"form-input"],["class","error-message",4,"ngIf"],["for","telefono"],["name","call-outline"],["type","tel","id","telefono","formControlName","telefono","placeholder","N\xFAmero de tel\xE9fono",1,"form-input"],["for","direccion"],["name","location-outline"],["type","text","id","direccion","formControlName","direccion","placeholder","Direcci\xF3n del cliente",1,"form-input"],[1,"form-actions"],["type","submit",1,"save-button",3,"disabled"],["name","save-outline"],[1,"error-message"]],template:function(o,n){o&1&&(e(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),C("click",function(){return n.volver()}),c(5,"ion-icon",5),e(6,"span"),a(7,"Volver"),t()()(),e(8,"div",6)(9,"h1"),a(10,"Nuevo Cliente"),t()()(),e(11,"div",7)(12,"form",8),C("ngSubmit",function(){return n.guardarCliente()}),e(13,"div",9)(14,"div",10)(15,"label",11),a(16,"Nombre "),e(17,"span",12),a(18,"*"),t()()(),e(19,"div",13)(20,"div",14),c(21,"ion-icon",15),t(),c(22,"input",16),t(),O(23,J,2,0,"div",17),t(),e(24,"div",9)(25,"div",10)(26,"label",18),a(27,"Tel\xE9fono"),t()(),e(28,"div",13)(29,"div",14),c(30,"ion-icon",19),t(),c(31,"input",20),t()(),e(32,"div",9)(33,"div",10)(34,"label",21),a(35,"Direcci\xF3n"),t()(),e(36,"div",13)(37,"div",14),c(38,"ion-icon",22),t(),c(39,"input",23),t()(),e(40,"div",24)(41,"button",25),c(42,"ion-icon",26),e(43,"span"),a(44,"Guardar Cliente"),t()()()()()()()),o&2&&(g(12),u("formGroup",n.clienteForm),g(7),M("has-error",n.hasError("nombre","required")),g(4),u("ngIf",n.hasError("nombre","required")),g(18),u("disabled",n.clienteForm.invalid||n.isSubmitting))},dependencies:[j,b,P,F,y,h,k,w,A,N,S,E],styles:['@charset "UTF-8";.premium-nuevo-cliente-container[_ngcontent-%COMP%]{padding:20px;min-height:100%;background-color:#0a1e3f;color:#fff}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:30px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-back-button[_ngcontent-%COMP%]{margin-bottom:16px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-back-button[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{display:flex;align-items:center;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 16px;color:#fff;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-back-button[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:8px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-back-button[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:translateY(-2px)}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#fff;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.2)}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{background:#ffffff26;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:16px;padding:24px;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 20px #00000040}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:24px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#fff}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ff5252;margin-left:4px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#ffffff1a;border-radius:12px;border:1px solid rgba(255,255,255,.2);overflow:hidden;transition:all .3s ease}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]:focus-within{border-color:#fff6;box-shadow:0 0 0 2px #ffffff1a}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container.has-error[_ngcontent-%COMP%]{border-color:#ff5252;box-shadow:0 0 0 2px #ff525233}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;color:#ffffffb3;font-size:20px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;color:#fff;padding:14px 16px 14px 0;font-size:16px;font-family:inherit}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:8px;color:#ff5252;font-size:14px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]:before{content:"\\2022";margin-right:6px;font-size:16px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{margin-top:32px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;background:linear-gradient(135deg,#00796b,#4caf50);color:#fff;border:none;border-radius:12px;padding:16px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 8px 20px #0003}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:8px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000004d}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:active{transform:translateY(1px);box-shadow:0 6px 15px #0003}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{background:#ffffff1a;color:#ffffff80;box-shadow:none;cursor:not-allowed}@media (min-width: 768px){.premium-nuevo-cliente-container[_ngcontent-%COMP%]{padding:30px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-back-button[_ngcontent-%COMP%]{margin-bottom:0;margin-right:20px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.form-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.ion-content-nuevo-cliente[_ngcontent-%COMP%]{--background: #0a1e3f}[_nghost-%COMP%]     ion-toast{--background: #162b4d;--color: #ffffff;--border-radius: 8px;--box-shadow: 0 4px 16px rgba(0, 0, 0, .2)}[_nghost-%COMP%]     ion-toast.toast-success{--background: #4caf50}[_nghost-%COMP%]     ion-toast.toast-danger{--background: #ff5252}']});let s=m;return s})();export{an as ClienteAltaPage};
