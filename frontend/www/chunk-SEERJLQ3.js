import{a as Y}from"./chunk-36ZNDDEK.js";import{h as U}from"./chunk-GZLC3ZNG.js";import"./chunk-TK637REM.js";import"./chunk-PSDQXRQ7.js";import"./chunk-YYK6W2VS.js";import"./chunk-FAPPJNJW.js";import"./chunk-HC6MZPB3.js";import"./chunk-4PGTP63H.js";import"./chunk-QRJ5Z3B6.js";import"./chunk-FERD25SW.js";import"./chunk-PCR4Q3CI.js";import"./chunk-LEIMCQKJ.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-E76BAXQI.js";import"./chunk-MCRJI3T3.js";import{a as D}from"./chunk-2LK4Q67O.js";import"./chunk-ENQTIPMM.js";import{$ as A,K as q,Z as V,a as j,e as G}from"./chunk-JZDIRMBR.js";import"./chunk-KJ4DQJJ6.js";import"./chunk-4DDT52NB.js";import"./chunk-5U5GTFKZ.js";import"./chunk-XDLFVO2Q.js";import{F as z,l as T}from"./chunk-2UXU5CYN.js";import{$ as a,A as M,Bb as E,Ca as v,Cb as I,D as u,Eb as N,F as P,L as o,M as i,N as r,S as l,jb as h,lb as d,mb as x,nb as k,qa as b,rb as y,sb as w,t as s,tb as S,u as m,w as O,wb as F}from"./chunk-IIYMI45M.js";import"./chunk-QWLURI7L.js";import"./chunk-7KGURMOZ.js";import"./chunk-746R66HB.js";import"./chunk-22YGHXDB.js";import"./chunk-A5VEOJWE.js";import"./chunk-HII7ZFLR.js";import"./chunk-7JVEMCNU.js";import"./chunk-Z65EUC5N.js";import"./chunk-4U6PRYVA.js";import"./chunk-4DUJ2VZY.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{a as C,b as _,f as p}from"./chunk-RW4GY4BD.js";function R(f,c){f&1&&(o(0,"div",25),a(1," El nombre es obligatorio "),i())}var en=(()=>{let c=class c{constructor(t,e,n,g,B){this.formBuilder=t,this.router=e,this.abonoService=n,this.toastController=g,this.loginService=B,this.isSubmitting=!1,this.idUsuario=this.loginService.getIdUsuario(),this.fitoForm=this.createForm()}ngOnInit(){j({arrowBackOutline:G,shieldCheckmarkOutline:A,layersOutline:q,saveOutline:V})}createForm(){return this.formBuilder.group({nombre:["",[d.required]],cantidad:[null],tipo:["fito"],idUsuario:[this.idUsuario,[d.required]]})}hasError(t,e){let n=this.fitoForm.get(t);return!!(n&&n.hasError(e)&&(n.dirty||n.touched))}guardarFito(){return p(this,null,function*(){if(this.fitoForm.invalid){this.markFormGroupTouched();return}this.isSubmitting=!0;try{let t=_(C({},this.fitoForm.value),{tipo:"fito"});yield this.abonoService.createAbono(t),yield this.mostrarToast("Fitosanitario creado correctamente","success"),this.volver()}catch(t){console.error("Error al crear fitosanitario:",t),yield this.mostrarToast("Error al crear el fitosanitario","danger")}finally{this.isSubmitting=!1}})}markFormGroupTouched(){Object.keys(this.fitoForm.controls).forEach(t=>{let e=this.fitoForm.get(t);e&&e.markAsTouched()})}volver(){this.router.navigate(["/fitos"])}mostrarToast(t,e){return p(this,null,function*(){yield(yield this.toastController.create({message:t,duration:3e3,color:e,position:"bottom"})).present()})}};c.\u0275fac=function(e){return new(e||c)(m(I),m(v),m(Y),m(U),m(D))},c.\u0275cmp=O({type:c,selectors:[["app-nuevo-fito"]],decls:38,vars:5,consts:[[1,"ion-content-nuevo-fito"],[1,"premium-nuevo-fito-container"],[1,"section-header"],[1,"header-back-button"],[1,"back-button",3,"click"],["name","arrow-back-outline"],[1,"header-content"],[1,"form-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],[1,"form-label"],["for","nombre"],[1,"required"],[1,"input-container"],[1,"input-icon"],["name","shield-checkmark-outline"],["type","text","id","nombre","formControlName","nombre","placeholder","Nombre del fitosanitario",1,"form-input"],["class","error-message",4,"ngIf"],["for","cantidad"],["name","layers-outline"],["type","number","id","cantidad","formControlName","cantidad","placeholder","Cantidad disponible","min","0",1,"form-input"],["type","hidden","formControlName","tipo","value","fito"],[1,"form-actions"],["type","submit",1,"save-button",3,"disabled"],["name","save-outline"],[1,"error-message"]],template:function(e,n){e&1&&(o(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),l("click",function(){return n.volver()}),r(5,"ion-icon",5),o(6,"span"),a(7,"Volver"),i()()(),o(8,"div",6)(9,"h1"),a(10,"Nuevo Fitosanitario"),i()()(),o(11,"div",7)(12,"form",8),l("ngSubmit",function(){return n.guardarFito()}),o(13,"div",9)(14,"div",10)(15,"label",11),a(16,"Nombre "),o(17,"span",12),a(18,"*"),i()()(),o(19,"div",13)(20,"div",14),r(21,"ion-icon",15),i(),r(22,"input",16),i(),M(23,R,2,0,"div",17),i(),o(24,"div",9)(25,"div",10)(26,"label",18),a(27,"Cantidad"),i()(),o(28,"div",13)(29,"div",14),r(30,"ion-icon",19),i(),r(31,"input",20),i()(),r(32,"input",21),o(33,"div",22)(34,"button",23),r(35,"ion-icon",24),o(36,"span"),a(37,"Guardar Fitosanitario"),i()()()()()()()),e&2&&(s(12),u("formGroup",n.fitoForm),s(7),P("has-error",n.hasError("nombre","required")),s(4),u("ngIf",n.hasError("nombre","required")),s(11),u("disabled",n.fitoForm.invalid||n.isSubmitting))},dependencies:[z,N,y,h,w,x,k,E,S,F,T,b],styles:['@charset "UTF-8";.premium-nuevo-fito-container[_ngcontent-%COMP%]{padding:20px;min-height:100%;background-color:#0a1e3f;color:#fff}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:30px}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-back-button[_ngcontent-%COMP%]{margin-bottom:16px}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-back-button[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{display:flex;align-items:center;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 16px;color:#fff;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-back-button[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:8px}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-back-button[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:translateY(-2px)}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#fff;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.2)}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{background:#ffffff26;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:16px;padding:24px;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 20px #00000040}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:24px}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#fff}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ff5252;margin-left:4px}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#ffffff1a;border-radius:12px;border:1px solid rgba(255,255,255,.2);overflow:hidden;transition:all .3s ease}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]:focus-within{border-color:#fff6;box-shadow:0 0 0 2px #ffffff1a}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container.has-error[_ngcontent-%COMP%]{border-color:#ff5252;box-shadow:0 0 0 2px #ff525233}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;color:#ffffffb3;font-size:20px}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;color:#fff;padding:14px 16px 14px 0;font-size:16px;font-family:inherit}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:8px;color:#ff5252;font-size:14px}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]:before{content:"\\2022";margin-right:6px;font-size:16px}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{margin-top:32px}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;background:linear-gradient(135deg,#00796b,#4caf50);color:#fff;border:none;border-radius:12px;padding:16px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 8px 20px #0003}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:8px}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000004d}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:active{transform:translateY(1px);box-shadow:0 6px 15px #0003}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{background:#ffffff1a;color:#ffffff80;box-shadow:none;cursor:not-allowed}@media (min-width: 768px){.premium-nuevo-fito-container[_ngcontent-%COMP%]{padding:30px}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-back-button[_ngcontent-%COMP%]{margin-bottom:0;margin-right:20px}.premium-nuevo-fito-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.form-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.ion-content-nuevo-fito[_ngcontent-%COMP%]{--background: #0a1e3f}']});let f=c;return f})();export{en as NuevoFitoPage};
