import{a as L}from"./chunk-4QUW7HJ7.js";import{a as U}from"./chunk-6HKVC6LK.js";import{V,W as Y,Z as B,a as A,e as G,o as D}from"./chunk-JZDIRMBR.js";import"./chunk-B4WDAWNQ.js";import{C as j,D as z,F as q,l as T}from"./chunk-EXSP2FB6.js";import{$ as i,A as p,Aa as b,Ab as E,Bb as I,Cb as N,D as u,Db as F,F as P,L as e,M as r,N as s,S as C,hb as v,jb as f,kb as h,lb as x,pb as k,qa as O,qb as w,rb as y,t as l,u as a,ub as S,va as M,w as _}from"./chunk-OM4WM6OA.js";import"./chunk-QWLURI7L.js";import"./chunk-7KGURMOZ.js";import"./chunk-746R66HB.js";import"./chunk-22YGHXDB.js";import"./chunk-A5VEOJWE.js";import"./chunk-HII7ZFLR.js";import"./chunk-7JVEMCNU.js";import"./chunk-Z65EUC5N.js";import"./chunk-4U6PRYVA.js";import"./chunk-4DUJ2VZY.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{f as d}from"./chunk-RW4GY4BD.js";function K(m,c){m&1&&(e(0,"div",24),i(1," El nombre es obligatorio "),r())}function Q(m,c){m&1&&(e(0,"div",24),i(1," El precio es obligatorio "),r())}var ln=(()=>{let c=class c{constructor(t,o,n,g,R,H,J){this.formBuilder=t,this.productoService=o,this.loginService=n,this.navController=g,this.toastController=R,this.loadingController=H,this.router=J,this.isSubmitting=!1,this.productoForm=this.formBuilder.group({nombre:["",[f.required]],precio:[null,[f.required,f.min(0)]]})}ngOnInit(){A({pricetagOutline:Y,cashOutline:D,personOutline:V,arrowBackOutline:G,saveOutline:B})}get f(){return this.productoForm.controls}hasError(t,o){let n=this.f[t];return n.hasError(o)&&(n.dirty||n.touched)}volver(){this.navController.back()}guardarProducto(){return d(this,null,function*(){if(Object.keys(this.f).forEach(t=>{this.f[t].markAsTouched()}),this.productoForm.invalid){this.mostrarToast("Por favor, completa correctamente todos los campos obligatorios","danger");return}try{this.isSubmitting=!0;let t=yield this.loadingController.create({message:"Guardando producto...",spinner:"circles"});yield t.present();let o=this.loginService.getIdUsuario();if(!o)throw new Error("No se ha encontrado el ID de usuario");let n={nombre:this.f.nombre.value,precio:this.f.precio.value,idUsuario:o};yield this.productoService.createProducto(n),yield t.dismiss(),this.mostrarToast("Producto guardado correctamente","success"),this.router.navigate(["/productos"])}catch(t){console.error("Error al guardar el producto:",t),this.isSubmitting=!1,this.loadingController.dismiss(),this.mostrarToast("Error al guardar el producto. Int\xE9ntalo de nuevo.","danger")}})}mostrarToast(t,o="primary"){return d(this,null,function*(){yield(yield this.toastController.create({message:t,duration:3e3,position:"bottom",color:o,buttons:[{icon:"close-circle-outline",role:"cancel"}]})).present()})}};c.\u0275fac=function(o){return new(o||c)(a(E),a(L),a(U),a(F),a(z),a(j),a(b))},c.\u0275cmp=_({type:c,selectors:[["app-producto-alta"]],decls:40,vars:8,consts:[[1,"ion-content-nuevo-cliente"],[1,"premium-nuevo-cliente-container"],[1,"section-header"],[1,"header-back-button"],[1,"back-button",3,"click"],["name","arrow-back-outline"],[1,"header-content"],[1,"form-container"],[3,"ngSubmit","formGroup"],[1,"form-group"],[1,"form-label"],["for","nombre"],[1,"required"],[1,"input-container"],[1,"input-icon"],["name","pricetag-outline"],["type","text","id","nombre","formControlName","nombre","placeholder","Nombre del producto",1,"form-input"],["class","error-message",4,"ngIf"],["for","precio"],["name","cash-outline"],["type","number","id","precio","formControlName","precio","placeholder","Precio del producto","step","0.01",1,"form-input"],[1,"form-actions"],["type","submit",1,"save-button",3,"disabled"],["name","save-outline"],[1,"error-message"]],template:function(o,n){o&1&&(e(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"button",4),C("click",function(){return n.volver()}),s(5,"ion-icon",5),e(6,"span"),i(7,"Volver"),r()()(),e(8,"div",6)(9,"h1"),i(10,"Nuevo Producto"),r()()(),e(11,"div",7)(12,"form",8),C("ngSubmit",function(){return n.guardarProducto()}),e(13,"div",9)(14,"div",10)(15,"label",11),i(16,"Nombre "),e(17,"span",12),i(18,"*"),r()()(),e(19,"div",13)(20,"div",14),s(21,"ion-icon",15),r(),s(22,"input",16),r(),p(23,K,2,0,"div",17),r(),e(24,"div",9)(25,"div",10)(26,"label",18),i(27,"Precio "),e(28,"span",12),i(29,"*"),r()()(),e(30,"div",13)(31,"div",14),s(32,"ion-icon",19),r(),s(33,"input",20),r(),p(34,Q,2,0,"div",17),r(),e(35,"div",21)(36,"button",22),s(37,"ion-icon",23),e(38,"span"),i(39,"Guardar Producto"),r()()()()()()()),o&2&&(l(12),u("formGroup",n.productoForm),l(7),P("has-error",n.hasError("nombre","required")),l(4),u("ngIf",n.hasError("nombre","required")),l(7),P("has-error",n.hasError("precio","required")),l(4),u("ngIf",n.hasError("precio","required")),l(2),u("disabled",n.productoForm.invalid||n.isSubmitting))},dependencies:[T,M,O,I,k,v,w,h,x,q,N,y,S],styles:['@charset "UTF-8";.premium-nuevo-cliente-container[_ngcontent-%COMP%]{padding:20px;min-height:100%;background-color:#0a1e3f;color:#fff}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:30px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-back-button[_ngcontent-%COMP%]{margin-bottom:16px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-back-button[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]{display:flex;align-items:center;background:#ffffff26;border:1px solid rgba(255,255,255,.3);border-radius:8px;padding:8px 16px;color:#fff;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-back-button[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px;margin-right:8px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-back-button[_ngcontent-%COMP%]   .back-button[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:translateY(-2px)}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#fff;margin:0;text-shadow:0 2px 4px rgba(0,0,0,.2)}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{background:#ffffff26;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:16px;padding:24px;border:1px solid rgba(255,255,255,.2);box-shadow:0 8px 20px #00000040}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{margin-bottom:24px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:16px;font-weight:600;color:#fff}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   .required[_ngcontent-%COMP%]{color:#ff5252;margin-left:4px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{display:flex;align-items:center;background:#ffffff1a;border-radius:12px;border:1px solid rgba(255,255,255,.2);overflow:hidden;transition:all .3s ease}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]:focus-within{border-color:#fff6;box-shadow:0 0 0 2px #ffffff1a}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container.has-error[_ngcontent-%COMP%]{border-color:#ff5252;box-shadow:0 0 0 2px #ff525233}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;color:#ffffffb3;font-size:20px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]{flex:1;background:transparent;border:none;color:#fff;padding:14px 16px 14px 0;font-size:16px;font-family:inherit}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]:focus{outline:none}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]   .form-input[_ngcontent-%COMP%]::placeholder{color:#ffffff80}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:8px;color:#ff5252;font-size:14px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]:before{content:"\\2022";margin-right:6px;font-size:16px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{margin-top:32px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:100%;background:linear-gradient(135deg,#00796b,#4caf50);color:#fff;border:none;border-radius:12px;padding:16px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;box-shadow:0 8px 20px #0003}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px;margin-right:8px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000004d}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:active{transform:translateY(1px);box-shadow:0 6px 15px #0003}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]:disabled{background:#ffffff1a;color:#ffffff80;box-shadow:none;cursor:not-allowed}@media (min-width: 768px){.premium-nuevo-cliente-container[_ngcontent-%COMP%]{padding:30px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .form-container[_ngcontent-%COMP%]{max-width:600px;margin:0 auto}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-direction:row;align-items:center}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-back-button[_ngcontent-%COMP%]{margin-bottom:0;margin-right:20px}.premium-nuevo-cliente-container[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.form-container[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.ion-content-nuevo-cliente[_ngcontent-%COMP%]{--background: #0a1e3f;--padding-top: 30px}[_nghost-%COMP%]     ion-toast{--background: #162b4d;--color: #ffffff;--border-radius: 8px;--box-shadow: 0 4px 16px rgba(0, 0, 0, .2)}[_nghost-%COMP%]     ion-toast.toast-success{--background: #4caf50}[_nghost-%COMP%]     ion-toast.toast-danger{--background: #ff5252}']});let m=c;return m})();export{ln as ProductoAltaPage};
