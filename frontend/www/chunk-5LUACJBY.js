import{a as q}from"./chunk-6HKVC6LK.js";import"./chunk-B4WDAWNQ.js";import{D,E as G,N as A,R as B,a as V,d as H,g as R}from"./chunk-JZDIRMBR.js";import{F as L,G as N,l as F,p as j}from"./chunk-EXSP2FB6.js";import{$ as r,A as s,Aa as v,Bb as S,Cb as T,D as d,L as t,M as n,N as i,S as m,T as b,i as C,jb as u,kb as w,lb as y,mb as k,nb as x,pb as E,qa as O,rb as I,t as g,u as h,ub as z,va as M,w as P}from"./chunk-OM4WM6OA.js";import"./chunk-QWLURI7L.js";import"./chunk-7KGURMOZ.js";import"./chunk-746R66HB.js";import"./chunk-22YGHXDB.js";import"./chunk-A5VEOJWE.js";import"./chunk-HII7ZFLR.js";import"./chunk-7JVEMCNU.js";import"./chunk-Z65EUC5N.js";import"./chunk-4U6PRYVA.js";import"./chunk-4DUJ2VZY.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import"./chunk-RW4GY4BD.js";function Y(o,a){o&1&&(t(0,"span"),r(1,"El correo es obligatorio"),n())}function J(o,a){o&1&&(t(0,"span"),r(1,"El correo es incorrecto"),n())}function K(o,a){if(o&1&&(t(0,"div",41),i(1,"ion-icon",42),s(2,Y,2,0,"span",43)(3,J,2,0,"span",43),n()),o&2){let _,c,l=b();g(2),d("ngIf",(_=l.login.get("email"))==null||_.errors==null?null:_.errors.required),g(),d("ngIf",(c=l.login.get("email"))==null||c.errors==null?null:c.errors.email)}}function Q(o,a){o&1&&(t(0,"div",41),i(1,"ion-icon",42),t(2,"span"),r(3,"La contrase\xF1a es obligatoria"),n()())}function U(o,a){o&1&&(t(0,"div",44),i(1,"ion-icon",42),t(2,"span"),r(3,"Error al enviar"),n()())}var un=(()=>{let a=class a{constructor(c){this.router=c,this.loginService=C(q),this.errorEnviar=!1,this.mensajeError="",this.usuario={correo:"",contrasena:""},this.passwordType="password",this.password="",V({mailOutline:B,eyeOutline:G,eyeOffOutline:D,alertCircleOutline:H,arrowForwardOutline:R,lockClosedOutline:A})}togglePasswordVisibility(){this.passwordType=this.passwordType==="password"?"text":"password"}ngOnInit(){this.obtenidoLogin()&&this.router.navigate(["/tabs-usuario"]),this.login=new k({email:new x("",[u.required,u.email]),password:new x("",[u.required])})}enviar(){var c,l;this.usuario={correo:(c=this.login.get("email"))==null?void 0:c.value,contrasena:(l=this.login.get("password"))==null?void 0:l.value},this.loginService.login(this.usuario).then(e=>{e&&(this.errorEnviar=!1,localStorage.setItem("token",e.token),console.log("ENVIADO CORRECTAMENTE"),this.router.navigate(["/tabs-usuario"]),e.rol==="user"?this.router.navigate(["/tabs-usuario"]):e.rol==="admin"&&this.router.navigate(["/tabs-usuario"]))}).catch(e=>{console.error("Error en el login:",e),console.log(e),e.status===404?this.mensajeError="Correo no encontrado":e.status===401?this.mensajeError="Contrase\xF1a incorrecta":this.mensajeError="Error desconocido. Int\xE9ntalo m\xE1s tarde.",this.errorEnviar=!0})}recuperarPassword(){}obtenidoLogin(){return!!localStorage.getItem("token")}irARegistro(){this.router.navigate(["/registro"])}};a.\u0275fac=function(l){return new(l||a)(h(v))},a.\u0275cmp=P({type:a,selectors:[["app-login"]],decls:57,vars:7,consts:[[1,"premium-login-experience"],[1,"premium-background"],[1,"bg-gradient"],[1,"bg-overlay"],[1,"bg-pattern"],[1,"accent-shape","shape-1"],[1,"accent-shape","shape-2"],[1,"premium-container"],[1,"login-card"],[1,"card-inner"],[1,"card-header"],[1,"logo-showcase"],[1,"logo-wrapper"],["src","../../assets/images/aranges-logo-sin-fondo.png",1,"brand-logo"],[1,"card-title"],[1,"card-subtitle"],[1,"premium-form",3,"formGroup"],[1,"form-field"],[1,"field-header"],[1,"field-label"],[1,"input-wrapper"],[1,"input-icon"],["name","mail-outline"],["formControlName","email","type","email","placeholder","Introduce tu correo"],["class","field-error",4,"ngIf"],["name","lock-closed-outline"],["formControlName","password","placeholder","Introduce tu contrase\xF1a",3,"type"],[1,"visibility-toggle",3,"click"],[3,"name"],["type","submit",1,"premium-button",3,"click","disabled"],["name","arrow-forward-outline"],[1,"recovery-link"],[1,"recovery-option","mt-3"],[1,"text-link",3,"click"],["class","error-notification",4,"ngIf"],[1,"card-decoration"],[1,"decoration-line","line-1"],[1,"decoration-line","line-2"],[1,"decoration-dot","dot-1"],[1,"decoration-dot","dot-2"],[1,"decoration-dot","dot-3"],[1,"field-error"],["name","alert-circle-outline"],[4,"ngIf"],[1,"error-notification"]],template:function(l,e){if(l&1&&(t(0,"ion-content")(1,"div",0)(2,"div",1),i(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),n(),t(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12),i(14,"ion-img",13),n()(),t(15,"h1",14),r(16,"Bienvenido"),n(),t(17,"p",15),r(18,"Inicia sesi\xF3n para continuar"),n()(),t(19,"form",16)(20,"div",17)(21,"div",18)(22,"label",19),r(23,"Correo electr\xF3nico"),n()(),t(24,"div",20)(25,"div",21),i(26,"ion-icon",22),n(),i(27,"ion-input",23),n(),s(28,K,4,2,"div",24),n(),t(29,"div",17)(30,"div",18)(31,"label",19),r(32,"Contrase\xF1a"),n()(),t(33,"div",20)(34,"div",21),i(35,"ion-icon",25),n(),i(36,"ion-input",26),t(37,"button",27),m("click",function(){return e.togglePasswordVisibility()}),i(38,"ion-icon",28),n()(),s(39,Q,4,0,"div",24),n(),t(40,"button",29),m("click",function(){return e.enviar()}),t(41,"span"),r(42,"Iniciar sesi\xF3n"),n(),i(43,"ion-icon",30),n(),t(44,"div",31)(45,"div",32)(46,"span"),r(47,"\xBFNo tienes cuenta?"),n(),t(48,"button",33),m("click",function(){return e.irARegistro()}),r(49," Reg\xEDstrate "),n()()(),s(50,U,4,0,"div",34),n()(),t(51,"div",35),i(52,"div",36)(53,"div",37)(54,"div",38)(55,"div",39)(56,"div",40),n()()()()()),l&2){let p,f;g(19),d("formGroup",e.login),g(9),d("ngIf",((p=e.login.get("email"))==null?null:p.invalid)&&((p=e.login.get("email"))==null?null:p.dirty)),g(8),d("type",e.passwordType),g(2),d("name",e.passwordType==="password"?"eye-off-outline":"eye-outline"),g(),d("ngIf",((f=e.login.get("password"))==null?null:f.invalid)&&((f=e.login.get("password"))==null?null:f.touched)),g(),d("disabled",e.login.invalid),g(10),d("ngIf",e.errorEnviar)}},dependencies:[F,M,O,S,E,w,y,j,T,I,z,N,L],styles:[`ion-content[_ngcontent-%COMP%]{--background: transparent}.premium-login-experience[_ngcontent-%COMP%]{padding-top:20px;position:relative;min-height:100%;width:100%;overflow:hidden;font-family:Poppins,sans-serif;color:#fff}.premium-background[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;z-index:0;overflow:hidden}.premium-background[_ngcontent-%COMP%]   .bg-gradient[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background:linear-gradient(135deg,#0a1e3f,#1a237e)}.premium-background[_ngcontent-%COMP%]   .bg-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background:radial-gradient(circle at 30% 70%,rgba(0,121,107,.4) 0%,transparent 50%),radial-gradient(circle at 70% 30%,rgba(41,121,255,.4) 0%,transparent 50%);opacity:.6}.premium-background[_ngcontent-%COMP%]   .bg-pattern[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;background-image:url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23ffffff' fill-opacity='0.05'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")}.premium-background[_ngcontent-%COMP%]   .accent-shape[_ngcontent-%COMP%]{position:absolute}.premium-background[_ngcontent-%COMP%]   .accent-shape.shape-1[_ngcontent-%COMP%]{top:-100px;right:-100px;width:300px;height:300px;background:radial-gradient(circle,#00897b4d,#00897b00 70%);border-radius:50%}.premium-background[_ngcontent-%COMP%]   .accent-shape.shape-2[_ngcontent-%COMP%]{bottom:-100px;left:-100px;width:300px;height:300px;background:radial-gradient(circle,#2979ff4d,#2979ff00 70%);border-radius:50%}.premium-container[_ngcontent-%COMP%]{position:relative;z-index:1;display:flex;flex-direction:column;min-height:100%;padding:env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left)}.top-navigation[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:16px 20px}.top-navigation[_ngcontent-%COMP%]   .brand-identity[_ngcontent-%COMP%]{display:flex;align-items:center}.top-navigation[_ngcontent-%COMP%]   .brand-identity[_ngcontent-%COMP%]   .brand-icon[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,#00796b,#4caf50);display:flex;align-items:center;justify-content:center;font-size:20px;font-weight:700;color:#fff;margin-right:10px;box-shadow:0 4px 10px #0003}.top-navigation[_ngcontent-%COMP%]   .brand-identity[_ngcontent-%COMP%]   .brand-name[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#fff;letter-spacing:.5px}.top-navigation[_ngcontent-%COMP%]   .language-selector[_ngcontent-%COMP%]   .language-pill[_ngcontent-%COMP%]{display:flex;align-items:center;background:#ffffff1a;border-radius:20px;padding:4px 12px}.top-navigation[_ngcontent-%COMP%]   .language-selector[_ngcontent-%COMP%]   .language-pill[_ngcontent-%COMP%]   .language-option[_ngcontent-%COMP%]{padding:4px 8px;font-size:14px;font-weight:500;color:#ffffffb3;cursor:pointer}.top-navigation[_ngcontent-%COMP%]   .language-selector[_ngcontent-%COMP%]   .language-pill[_ngcontent-%COMP%]   .language-option.active[_ngcontent-%COMP%]{color:#fff;font-weight:600}.top-navigation[_ngcontent-%COMP%]   .language-selector[_ngcontent-%COMP%]   .language-pill[_ngcontent-%COMP%]   .language-separator[_ngcontent-%COMP%]{color:#ffffff4d;margin:0 4px}.login-card[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:column;justify-content:center;padding:20px;max-width:450px;margin:20px auto;width:100%;position:relative}.login-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{background:#ffffff1a;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:20px;padding:30px;box-shadow:0 15px 35px #0003;border:1px solid rgba(255,255,255,.1);position:relative;z-index:1;overflow:hidden}.login-card[_ngcontent-%COMP%]   .card-decoration[_ngcontent-%COMP%]{position:absolute;top:0;left:0;right:0;bottom:0;pointer-events:none;z-index:0}.login-card[_ngcontent-%COMP%]   .card-decoration[_ngcontent-%COMP%]   .decoration-line[_ngcontent-%COMP%]{position:absolute;height:3px}.login-card[_ngcontent-%COMP%]   .card-decoration[_ngcontent-%COMP%]   .decoration-line.line-1[_ngcontent-%COMP%]{top:40px;left:0;width:100px;background:linear-gradient(to right,transparent,#00897b,transparent)}.login-card[_ngcontent-%COMP%]   .card-decoration[_ngcontent-%COMP%]   .decoration-line.line-2[_ngcontent-%COMP%]{bottom:40px;right:0;width:100px;background:linear-gradient(to right,transparent,#2979ff,transparent)}.login-card[_ngcontent-%COMP%]   .card-decoration[_ngcontent-%COMP%]   .decoration-dot[_ngcontent-%COMP%]{position:absolute;border-radius:50%}.login-card[_ngcontent-%COMP%]   .card-decoration[_ngcontent-%COMP%]   .decoration-dot.dot-1[_ngcontent-%COMP%]{top:60px;right:40px;width:8px;height:8px;background:#00897b}.login-card[_ngcontent-%COMP%]   .card-decoration[_ngcontent-%COMP%]   .decoration-dot.dot-2[_ngcontent-%COMP%]{bottom:80px;left:30px;width:6px;height:6px;background:#2979ff}.login-card[_ngcontent-%COMP%]   .card-decoration[_ngcontent-%COMP%]   .decoration-dot.dot-3[_ngcontent-%COMP%]{top:50%;right:20px;width:10px;height:10px;background:#4caf50}.card-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:30px}.card-header[_ngcontent-%COMP%]   .logo-showcase[_ngcontent-%COMP%]{margin-bottom:20px}.card-header[_ngcontent-%COMP%]   .logo-showcase[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{width:130px;height:130px;margin:0 auto;position:relative}.card-header[_ngcontent-%COMP%]   .logo-showcase[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;top:-10px;left:-10px;right:-10px;bottom:-10px;background:#ffffff0d;border-radius:50%;z-index:-1}.card-header[_ngcontent-%COMP%]   .logo-showcase[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]:after{content:"";position:absolute;top:-5px;left:-5px;right:-5px;bottom:-5px;border:2px solid rgba(255,255,255,.1);border-radius:50%;z-index:-1}.card-header[_ngcontent-%COMP%]   .logo-showcase[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:contain}.card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;color:#fff;margin:0 0 8px;text-shadow:0 2px 4px rgba(0,0,0,.2)}.card-header[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:16px;color:#fffc;margin:0}.premium-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-field[_ngcontent-%COMP%]{margin-bottom:24px}.form-field[_ngcontent-%COMP%]   .field-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:8px}.form-field[_ngcontent-%COMP%]   .field-header[_ngcontent-%COMP%]   .field-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;color:#fff}.form-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;background:#ffffff1a;border-radius:12px;border:1px solid rgba(255,255,255,.2);overflow:hidden;transition:all .3s ease}.form-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]:focus-within{border-color:#fff6;box-shadow:0 0 0 2px #ffffff1a}.form-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:50px;color:#ffffffb3;font-size:20px}.form-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--background: transparent;--color: #ffffff;--placeholder-color: rgba(255, 255, 255, .5);--padding-start: 0;--padding-end: 16px;--padding-top: 14px;--padding-bottom: 14px;font-size:16px;flex:1}.form-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .visibility-toggle[_ngcontent-%COMP%]{background:none;border:none;color:#ffffffb3;padding:0 16px;font-size:20px;cursor:pointer}.form-field[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   .visibility-toggle[_ngcontent-%COMP%]:focus{outline:none}.form-field[_ngcontent-%COMP%]   .field-error[_ngcontent-%COMP%]{display:flex;align-items:center;margin-top:8px;color:#d32f2f;font-size:12px}.form-field[_ngcontent-%COMP%]   .field-error[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:6px;font-size:14px}.premium-button[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background:linear-gradient(135deg,#00796b,#4caf50);color:#fff;border:none;border-radius:12px;padding:16px;font-size:16px;font-weight:600;margin-bottom:24px;cursor:pointer;transition:all .3s ease;box-shadow:0 8px 20px #0003}.premium-button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:8px}.premium-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:18px}.premium-button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000004d}.premium-button[_ngcontent-%COMP%]:active{transform:translateY(1px);box-shadow:0 6px 15px #0003}.premium-button[_ngcontent-%COMP%]:disabled{background:#ffffff1a;color:#ffffff80;box-shadow:none;cursor:not-allowed}.recovery-link[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin-bottom:24px}.recovery-link[_ngcontent-%COMP%]   .recovery-option[_ngcontent-%COMP%]{text-align:center;margin-bottom:8px}.recovery-link[_ngcontent-%COMP%]   .recovery-option.mt-3[_ngcontent-%COMP%]{margin-top:12px}.recovery-link[_ngcontent-%COMP%]   .recovery-option[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;color:#ffffffb3;margin-bottom:4px;display:block}.recovery-link[_ngcontent-%COMP%]   .text-link[_ngcontent-%COMP%]{background:none;border:none;color:#4caf50;font-size:14px;font-weight:600;padding:4px;cursor:pointer}.recovery-link[_ngcontent-%COMP%]   .text-link[_ngcontent-%COMP%]:hover{text-decoration:underline}.error-notification[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:12px;background:#d32f2f33;border-radius:12px;color:#fff;font-size:14px}.error-notification[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{margin-right:8px;font-size:16px;color:#d32f2f}.footer[_ngcontent-%COMP%]{padding:16px;text-align:center}.footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{font-size:12px;color:#ffffff80}@media (max-height: 700px){.login-card[_ngcontent-%COMP%]{margin:10px auto}.login-card[_ngcontent-%COMP%]   .card-inner[_ngcontent-%COMP%]{padding:20px}.card-header[_ngcontent-%COMP%]{margin-bottom:20px}.card-header[_ngcontent-%COMP%]   .logo-showcase[_ngcontent-%COMP%]{margin-bottom:15px}.card-header[_ngcontent-%COMP%]   .logo-showcase[_ngcontent-%COMP%]   .logo-wrapper[_ngcontent-%COMP%]{width:80px;height:80px}.card-header[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:24px}.card-header[_ngcontent-%COMP%]   .card-subtitle[_ngcontent-%COMP%]{font-size:14px}.form-field[_ngcontent-%COMP%]{margin-bottom:16px}.premium-button[_ngcontent-%COMP%]{padding:14px;margin-bottom:16px}}.ios[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-top: 15px;--padding-bottom: 15px}.md[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-top: 14px;--padding-bottom: 14px}`]});let o=a;return o})();export{un as LoginPage};
