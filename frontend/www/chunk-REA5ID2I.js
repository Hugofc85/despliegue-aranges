import{a as n,b as l}from"./chunk-X2VJEU3B.js";import{f as s}from"./chunk-OOWOQ5GQ.js";var g=(()=>{let a=class a{constructor(){}getIdUsuario(){let r=localStorage.getItem("token");if(!r)return null;try{let o=r.split(".")[1],t=atob(o);return JSON.parse(t).userId||null}catch(o){return console.error("Error al decodificar el token:",o),null}}login(r={correo:"",contrasena:""}){let o=`${l.url}auth/login`;return console.log("Usuario:",JSON.stringify(r)),console.log("URL:",o),n.post({url:o,headers:{"Content-Type":"application/json"},data:r}).then(t=>{if(console.log("Respuesta del servidor:",t),t.status===404||t.status===401)throw{status:t.status,message:t.data.error};return t.data}).catch(t=>{throw console.error("Error en el login:",t),t})}registro(r={nombre:"",correo:"",contrasena:""}){let o=`${l.url}auth/registro`;return n.post({url:o,headers:{"Content-Type":"application/json"},data:r}).then(t=>{if(console.log("Respuesta del servidor:",t),t.status===404||t.status===401)throw{status:t.status,message:t.data.error};return t.data}).catch(t=>{throw console.error("Error en el login:",t),t})}};a.\u0275fac=function(o){return new(o||a)},a.\u0275prov=s({token:a,factory:a.\u0275fac,providedIn:"root"});let e=a;return e})();export{g as a};
